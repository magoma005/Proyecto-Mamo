<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Evento - Museo de Nosotros</title>
  <link rel="stylesheet" href="event.css">
</head>
<body>
  <!-- Intro cinematogr√°fica -->
  <div id="intro">
    <img id="logo1" class="logo" src="mago.png" alt="Mago">
    <img id="logo2" class="logo" src="tony.png" alt="Tony">
    <img id="logo3" class="logo" src="presenta.png" alt="Presenta">
  </div>

  <!-- Contenido principal -->
  <div id="main-content" class="hidden">
    <header id="event-header">
      <img src="../MenuPrincipal/Logo.png" alt="Logo Principal" id="main-logo">
    </header>

    <div id="grid-container">
      <script>
        for (let i = 1; i <= 24; i++) {
          document.write(`
            <div class="grid-item" data-available="${i <= 5}">
              <img id="portada${i}" src="portada${i}.jpg" alt="Historia ${i}">
            </div>
          `);
        }
      </script>
    </div>
  </div>

  <!-- Bot√≥n flotante para volver -->
  <button id="btn-volver" title="Volver al Men√∫ Principal">‚Üê</button>

  <!-- üéµ Audio de fondo -->
  <audio id="bg-audio" src="rain.mp3" loop></audio>

  <script src="event.js"></script>
  <script>
    // --- Bot√≥n volver ---
    const btnVolver = document.getElementById("btn-volver");
    if (btnVolver) {
      btnVolver.addEventListener("click", () => {
        window.location.href = "../MenuPrincipal/home.html";
      });
    }

    // --- Audio de fondo ---
    const audio = document.getElementById("bg-audio");
    audio.volume = 0; // inicia en silencio

    let audioStarted = false;

    const startAudio = () => {
      if (audioStarted) return;
      audioStarted = true;

      audio.play().then(() => {
        // Fade-in suave del sonido
        let vol = 0;
        const fade = setInterval(() => {
          if (vol < 0.4) {
            vol += 0.02;
            audio.volume = vol;
          } else {
            clearInterval(fade);
          }
        }, 200);
      }).catch(err => {
        console.warn("No se pudo reproducir el audio:", err);
      });
    };

    // Reproducir al primer clic o tecla
    document.addEventListener("click", startAudio);
    document.addEventListener("keydown", startAudio);
  </script>
</body>
</html>
